<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="img/logo3.png" type="image/png">
<title>Mis Favoritos - GBunny Store</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="css/estilos.css">

<style>
body { background-color: #fff5f9; }

/* Productos favoritos */
.producto-fav {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 10px;
    margin-bottom: 15px;
    background-color: #fff;
    transition: transform 0.2s;
}
.producto-fav:hover { transform: scale(1.02); }
.producto-fav img { width: 100%; max-width: 250px; height: auto; }
.btn-quitar { background-color: #f8a9c4; color: #fff; border: none; transition: 0.3s; }
.btn-quitar:hover { background-color: #f47ba0; }
.titulo-fav { color:#f8a9c4; text-align:center; margin-bottom:25px; font-weight:bold; font-size:1.8rem; }

/* Navbar: íconos rosados */
#carrito i, #favoritos i { color: #f8a9c4; transition: color 0.3s; }
#carrito:hover i, #favoritos:hover i { color: #ff5c8d; }
.badge { background-color: #f47ba0 !important; color: #fff !important; }

/* Footer rosadito */
footer { background-color: #fff1f6; color: #f47ba0; padding: 40px 0; }
.footer-link { color: #f47ba0; text-decoration: none; }
.footer-link:hover { text-decoration: underline; }
.footer-social { color: #f47ba0; font-size: 1.2rem; }
.footer-copy { color: #f47ba0; }
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-light bg-light shadow-sm py-2">
  <div class="container-fluid d-flex align-items-center">
    <a class="navbar-brand d-flex align-items-center me-3" href="index.html">
      <img src="img/logo.png" alt="Logo Tienda" style="height:100px;">
    </a>

    <button class="btn btn-hamburguesa me-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuLateral">
      <i class="bi bi-list fs-3"></i>
    </button>

    <form class="d-flex mx-auto" style="max-width:500px; width:100%;">
      <input class="form-control me-2" type="search" placeholder="Buscar productos..." aria-label="Buscar">
      <button class="btn btn-outline-primary" type="submit"><i class="bi bi-search"></i></button>
    </form>

    <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center flex-row">
      <li class="nav-item me-3">
        <a class="nav-link position-relative" href="favoritos.html" id="favoritos">
          <i class="bi bi-heart fs-4"></i>
          <span class="badge position-absolute top-0 start-100 translate-middle p-1 rounded-circle" id="fav-count">0</span>
        </a>
      </li>
      <li class="nav-item me-3">
        <a class="nav-link position-relative" href="carrito.html" id="carrito">
          <i class="bi bi-cart3 fs-4"></i>
          <span class="badge position-absolute top-0 start-100 translate-middle p-1 rounded-circle" id="cart-count">0</span>
        </a>
      </li>
      <li class="nav-item me-2">
        <a class="btn btn-outline-primary" href="login.html">Iniciar Sesión</a>
      </li>
      <li class="nav-item">
        <a class="btn btn-success" href="registro.html">Registrarse</a>
      </li>
    </ul>
  </div>
</nav>

<!-- Offcanvas lateral -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="menuLateral">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Categorías</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled">
      <li><a href="#" class="nav-link">Lo Último</a></li>
      <li><a href="#" class="nav-link">Ofertas</a></li>
      <li>
        <a class="nav-link" data-bs-toggle="collapse" href="#submenuHombre" role="button" aria-expanded="false">
          Hombre <i class="bi bi-chevron-down ms-1"></i>
        </a>
        <div class="collapse ps-3" id="submenuHombre">
          <ul class="list-unstyled">
            <li><a href="#" class="nav-link">Camisas</a></li>
            <li><a href="#" class="nav-link">Pantalones</a></li>
            <li><a href="#" class="nav-link">Zapatos</a></li>
            <li><a href="#" class="nav-link">Accesorios</a></li>
          </ul>
        </div>
      </li>
      <li>
        <a class="nav-link" data-bs-toggle="collapse" href="#submenuMujer" role="button" aria-expanded="false">
          Mujer <i class="bi bi-chevron-down ms-1"></i>
        </a>
        <div class="collapse ps-3" id="submenuMujer">
          <ul class="list-unstyled">
            <li><a href="#" class="nav-link">Zapatillas</a></li>
            <li><a href="#" class="nav-link">Pendientes</a></li>
            <li><a href="#" class="nav-link">Abrigos</a></li>
            <li><a href="#" class="nav-link">Bolsos</a></li>
          </ul>
        </div>
      </li>
      <li>
        <a class="nav-link" data-bs-toggle="collapse" href="#submenuNinos" role="button" aria-expanded="false">
          Niños <i class="bi bi-chevron-down ms-1"></i>
        </a>
        <div class="collapse ps-3" id="submenuNinos">
          <ul class="list-unstyled">
            <li><a href="#" class="nav-link">Ropa</a></li>
            <li><a href="#" class="nav-link">Zapatos</a></li>
            <li><a href="#" class="nav-link">Juguetes</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</div>

<!-- Contenido favoritos -->
<div class="container mt-5">
  <div class="titulo-fav">Mis Favoritos</div>
  <div id="listaFavoritos" class="row justify-content-center"></div>
</div>

<!-- Footer -->
<footer class="footer bg-footer pt-4 mt-5">
  <div class="container">
    <div class="row">

      <div class="col-md-4 mb-3">
        <h5 class="footer-title">Contacto</h5>
        <p>Email: <a href="mailto:contacto.GBunnyStore@tienda.com" class="footer-link">GBunnyStore@tienda.com</a></p>
        <p>Tel: +56 9 1234 5678</p>
        <p>Dirección: Av. Principal 123, Santiago</p>
      </div>

      <div class="col-md-4 mb-3">
        <h5 class="footer-title">Enlaces</h5>
        <ul class="list-unstyled">
          <li><a href="nosotros.html" class="footer-link">Nosotros</a></li>
          <li><a href="blog.html" target="_blank" class="footer-link">Blog</a></li>
          <li><a href="contacto.html" target="_blank" class="footer-link">Contáctanos</a></li>
        </ul>
      </div>

      <div class="col-md-4 mb-3">
        <h5 class="footer-title">Síguenos</h5>
        <a href="#" class="footer-social me-2"><i class="bi bi-facebook"></i></a>
        <a href="#" class="footer-social me-2"><i class="bi bi-instagram"></i></a>
        <a href="#" class="footer-social me-2"><i class="bi bi-twitter"></i></a>
      </div>

    </div>

    <div class="text-center mt-3">
      <small class="footer-copy">&copy; 2025 Tienda de Ropa - Todos los derechos reservados</small>
    </div>
  </div>
</footer>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Mostrar productos favoritos
const listaFav = document.getElementById('listaFavoritos');

function mostrarFavoritos(){
    listaFav.innerHTML = '';
    let favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];

    if(favoritos.length === 0){
        listaFav.innerHTML = '<p class="text-center">No hay productos en favoritos.</p>';
        return;
    }

    favoritos.forEach((producto, index) => {
        const div = document.createElement('div');
        div.classList.add('producto-fav', 'col-md-4', 'text-center');
        div.innerHTML = `
            <img src="${producto.imagen}" alt="${producto.nombre}">
            <h5 class="mt-2">${producto.nombre}</h5>
            <p>${producto.precio}</p>
            <button class="btn btn-quitar" data-index="${index}">❌ Quitar</button>
        `;
        listaFav.appendChild(div);
    });

    // Quitar producto
    const botonesQuitar = document.querySelectorAll('.btn-quitar');
    botonesQuitar.forEach(btn => {
        btn.addEventListener('click', () => {
            const i = btn.getAttribute('data-index');
            let favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];
            favoritos.splice(i, 1);
            localStorage.setItem('favoritos', JSON.stringify(favoritos));
            mostrarFavoritos();
            actualizarContadores();
        });
    });
}

// Actualizar contadores de favoritos y carrito
function actualizarContadores() {
    const favCount = document.getElementById('fav-count');
    const cartCount = document.getElementById('cart-count');

    let favoritos = JSON.parse(localStorage.getItem('favoritos')) || [];
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    favCount.textContent = favoritos.length;
    cartCount.textContent = carrito.length;
}

mostrarFavoritos();
actualizarContadores();
</script>
</body>
</html>
